<html>
<head>
  <title>ChainOrchestra Connection example</title>
  <link rel="stylesheet" type="text/css" href="css/ChainOrchestra.css">
  <script src="js/chainorchestra.js"></script>
</head>

<body>

<center>
	<h1>Blockchain connection example</h1>
</center>


<table style="width:100%">

<tr>

<td style="width:80%">
<textarea style="width:100%" id='codeArea' rows='24'>
var ip = "51.15.43.252";
var port = "7050";

var user = "DemoUser";
var password = "iAmAdeM0uS3R";

var connection = new Connection(ip, port, user, password);

function success(result) {
  log("user " + this.userName + " login success.");
  log(JSON.stringify(result));
}

function failure(result) {
  log("user " + this.userName + " login failure.");
  log(JSON.stringify(result));
}

var context = connection.login(success, failure);
context.userName = user;
</textarea>
</td>

<td style="width:20%">
<input style="width:100%" type="button" value="Run code" onclick="runCode()">
<input style="width:100%" type="button" value="Clear logs" onclick="clearLogs()">
</td>

</tr>

</table>


<center>
	<h2>Session logs</h2>
</center>


<pre style="width:100%" id="logArea" class="code">
</pre>

<script>

function log(text) {
	document.getElementById("logArea").innerHTML += text + "\n";
}
	
function clearLogs() {
	document.getElementById("logArea").innerHTML = "";
}

function runCode() {
	try {
		eval(document.getElementById("codeArea").value);
	}
	catch(e) {
		log("Error: source code eval failure");
	}
}

</script>

</body>
</html>














